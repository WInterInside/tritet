{"version":3,"sources":["01_main.js"],"names":["body","$","navToggle","toggleNav","hasClass","removeClass","addClass","handleScroll","window","scrollTop","on","document","querySelectorAll","forEach","anchor","addEventListener","e","preventDefault","destination","querySelector","this","getAttribute","header","headerHeight","offsetHeight","topOfDestination","getBoundingClientRect","top","scrollY","scrollTo","behavior","each","keyCode","event","selectionStart","matrix","i","def","replace","val","new_value","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","xID","coords","getElementById","ymaps","ready","myMap","Map","center","zoom","controls","myPlacemark","Placemark","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","add","behaviors","disable","console","error","Tabs","[object Object]","setTabs","bind","clearTabs","tabs","id","find","data","closest","toggleClass"],"mappings":"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","file":"../js/01_main.js","sourcesContent":["// Переменная для тела документа\r\nconst body = $('body');\r\n\r\n// Навигационный переключатель\r\nconst navToggle = $('[data-element~=\"navToggle\"]');\r\n\r\n// Переключение состояния навигационного меню\r\nconst toggleNav = () => {\r\n\tif (!body.hasClass('is-nav-open')) {\r\n\t\tbody.addClass('is-nav-open');\r\n\t} else {\r\n\t\tbody.removeClass('is-nav-open');\r\n\t}\r\n};\r\n\r\n// Обработка прокрутки страницы\r\nconst handleScroll = () => {\r\n\tif ($(window).scrollTop() > 0) {\r\n\t\tbody.addClass('is-scrolled');\r\n\t} else {\r\n\t\tbody.removeClass('is-scrolled');\r\n\t}\r\n};\r\n\r\n// Событие клика на навигационном переключателе\r\nnavToggle.on('click', toggleNav);\r\n\r\n// Событие прокрутки окна\r\n$(window).on('scroll', handleScroll);\r\n\r\n// // прокрутка статьи\r\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n\tanchor.addEventListener('click', function(e) {\r\n\t\te.preventDefault();\r\n\t\tlet destination = document.querySelector(this.getAttribute('href'));\r\n\t\tconst header = document.querySelector('[data-element=\"header\"]');\r\n\t\tif (destination) {\r\n\t\t\tlet headerHeight = (header.offsetHeight + 30);\r\n\t\t\tlet topOfDestination = destination.getBoundingClientRect().top + window.scrollY - headerHeight;\r\n\t\t\twindow.scrollTo({ top: topOfDestination, behavior: \"smooth\" });\r\n\t\t}\r\n\t});\r\n});\r\n\r\n$('.form__input--tel').each(function() {\r\n\tvar keyCode;\r\n\r\n\tfunction mask(event) {\r\n\t\tevent.keyCode && (keyCode = event.keyCode);\r\n\t\tvar pos = this.selectionStart;\r\n\t\tif (pos < 3) event.preventDefault();\r\n\t\tvar matrix = \"+7 (___) ___  \",\r\n\t\t\ti = 0,\r\n\t\t\tdef = matrix.replace(/\\D/g, \"\"),\r\n\t\t\tval = $(this).val().replace(/\\D/g, \"\"),\r\n\t\t\tnew_value = matrix.replace(/[_\\d]/g, function(a) {\r\n\t\t\treturn i < val.length ? val.charAt(i++) : def.charAt(i++)\r\n\t\t\t});\r\n\t\ti = new_value.indexOf(\"_\");\r\n\t\tif (i != -1) {\r\n\t\t\ti < 5 && (i = 3);\r\n\t\t\tnew_value = new_value.slice(0, i)\r\n\t\t}\r\n\t\tvar reg = matrix.substr(0, $(this).val().length).replace(/_+/g,\r\n\t\t\tfunction(a) {\r\n\t\t\treturn \"\\\\d{1,\" + a.length + \"}\"\r\n\t\t\t}).replace(/[+()]/g, \"\\\\$&\");\r\n\t\treg = new RegExp(\"^\" + reg + \"$\");\r\n\t\tif (!reg.test($(this).val()) || $(this).val().length < 5 || keyCode > 47 && keyCode < 58) {\r\n\t\t\t$(this).val(new_value);\r\n\t\t}\r\n\t\tif (event.type == \"blur\" && $(this).val().length < 5) {\r\n\t\t\t$(this).val(\"\");\r\n\t\t}\r\n\t}\r\n\r\n\t$(this).on(\"input focus blur keydown\", mask);\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\t// Функция создания карты\r\n\tfunction createMap(xID, coords) {\r\n\t\tconst mapContainer = document.getElementById(xID);\r\n\t\tif (mapContainer) {\r\n\t\t\tymaps.ready(function () {\r\n\t\t\t\tconst myMap = new ymaps.Map(xID, {\r\n\t\t\t\t\tcenter: coords,\r\n\t\t\t\t\tzoom: 17,\r\n\t\t\t\t\tcontrols: []\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst myPlacemark = new ymaps.Placemark(coords,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thintContent: 'г. Воронеж, ул. Солнечная, 13 «Е», помещение 2',\r\n\t\t\t\t\t\tballoonContent: 'г. Воронеж, ул. Солнечная, 13 «Е», помещение 2'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonLayout: 'default#image',\r\n\t\t\t\t\t\ticonImageHref: 'img/pin.svg',\r\n\t\t\t\t\t\ticonImageSize: [32, 43],\r\n\t\t\t\t\t\ticonImageOffset: [80, 0]\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tmyMap.geoObjects.add(myPlacemark);\r\n\t\t\t\tmyMap.behaviors.disable('scrollZoom');\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Элемент с ID\", xID, \"не найден.\");\r\n\t\t}\r\n\t}\r\n\r\n\t// Вызов функции создания карты\r\n\tcreateMap('footer__map', [51.678526, 39.164103]);\r\n\t// createMap('contacts__map', [51.678526, 39.164103]);\r\n});\r\n\r\nclass Tabs {\r\n\tconstructor() {\r\n\t\tthis.setTabs = this.setTabs.bind(this);\r\n\t\tthis.clearTabs = this.clearTabs.bind(this);\r\n\t}\r\n\r\n\tsetTabs(tabs, id) {\r\n\t\tthis.clearTabs(tabs);\r\n\t\ttabs.find('[data-tab=\"' + id + '\"]').addClass('is-active');\r\n\t}\r\n\r\n\tclearTabs(tabs) {\r\n\t\ttabs.find('[data-elements~=\"tabsBtn\"], [data-elements~=\"tabsItem\"]').removeClass('is-active');\r\n\t}\r\n}\r\n\r\n$(document).on('click', '[data-elements~=\"tabsBtn\"]', function(e) {\r\n\tlet id = $(this).data('tab');\r\n\tlet tabs = $(this).closest('[data-elements~=\"tabs\"]');\r\n\tlet tabContents = tabs.find('[data-tab]');\r\n\r\n\ttabContents.each(function() {\r\n\t\t$(this).toggleClass('is-active', id === $(this).data('tab'));\r\n\t});\r\n});"]}